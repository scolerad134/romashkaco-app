# Product REST API

## Описание
Этот проект представляет собой REST API для работы с товарами интернет-магазина "МоиТовары". Реализован полный CRUD функционал с использованием **Spring Boot**.

---

## Функциональные возможности

## Товары

- **Получение списка товаров**  
  Эндпоинт: `GET /api/v1/products`

  Позволяет получить список всех товаров. Поддерживает фильтрацию, сортировку и ограничение количества возвращаемых товаров.

  **Тело запроса (JSON):**
  ```json
  {
      "name": "Название товара",          // Фильтрация по названию
      "minPrice": 100.0,                 // Минимальная цена
      "maxPrice": 500.0,                 // Максимальная цена
      "inStock": true,                   // Товары в наличии (true/false)
      "limit": 10,                       // Максимальное количество возвращаемых товаров
      "sortBy": "price",                 // Поле для сортировки (например, "price", "name")
      "sortOrder": "asc"                 // Порядок сортировки: "asc" для по возрастанию, "desc" для по убыванию
  }



- **Получение товара по ID**  
  Эндпоинт: `GET /api/v1/products/{id}`  
  Параметры:
    - `id` (PathVariable) — идентификатор товара.  
      Возвращает товар с указанным идентификатором. Если товар не найден, возвращает HTTP статус `404 Not Found`.


- **Создание товара**  
  Эндпоинт: `POST /api/v1/products`  
  Тело запроса (JSON):
  ```json
  {
      "name": "Название товара",
      "description": "Описание товара",
      "price": 100.0,
      "inStock": true
  }


- **Обновление товара**  
  **Эндпоинт:** `PUT /api/v1/products/{id}`  
  **Параметры:**
    - `id` (PathVariable) — идентификатор товара.

  **Тело запроса (JSON):**
  ```json
  {
      "name": "Обновленное название",
      "description": "Обновленное описание",
      "price": 200.0,
      "inStock": false
  }


- **Удаление товара по ID**  
  Эндпоинт: `DELETE /api/v1/products/{id}`  
  Параметры:
    - `id` (PathVariable) — идентификатор товара.  
      Удаляет товар с помощью идентификатора. Если товар найден - статус 204 No Content.
      Тело ответа отсутствует, если товар не найден - статус 404 Not Found

---

### Продажи

- **Получение списка продаж**  
  **Эндпоинт:** `GET /api/v1/sales`  
  Возвращает список всех продаж.

- **Получение продажи по ID**  
  **Эндпоинт:** `GET /api/v1/sales/{id}`  
  Возвращает продажу по указанному идентификатору. Если продажа не найдена, возвращается HTTP статус `404 Not Found`.

- **Создание продажи**  
  **Эндпоинт:** `POST /api/v1/sales`

  **Тело запроса (JSON):**
  ```json
  {
      "documentName": "Номер документа",
      "productId": 1,
      "quantity": 2
  }

- **Обновление продажи**  
  **Эндпоинт:** `PUT /api/v1/sales/{id}`

  **Параметры:**
  - `id` (PathVariable) — идентификатор продажи.

  **Тело запроса (JSON):**
  ```json
  {
      "documentName": "Обновленный номер документа",
      "productId": 1,
      "quantity": 5
  }

- **Удаление продажи по ID**  
  **Эндпоинт:** `DELETE /api/v1/sales/{id}`

  **Параметры:**
  - `id` (PathVariable) — идентификатор продажи.

  **Описание:**  
  Удаляет продажу по указанному идентификатору.

  **Ответы:**
  - `204 No Content` — если продажа успешно удалена.
  - `404 Not Found` — если продажа с указанным идентификатором не найдена.


---

### Поставки

 **Получение списка поставок товаров**
 **Эндпоинт:** `GET /api/v1/supplies`

  **Описание:**  
  Возвращает список всех поставок товаров.

  **Пример ответа (JSON):**
  ```json
  [
      {
          "id": 1,
          "product": {
              "id": 101,
              "name": "Товар 1",
              "description": "Описание товара",
              "price": 150.0,
              "inStock": true
          },
          "quantity": 100
      },
      {
          "id": 2,
          "product": {
              "id": 102,
              "name": "Товар 2",
              "description": "Описание товара",
              "price": 200.0,
              "inStock": true
          },
          "quantity": 50
      }
  ]
```

### Создание продажи товара

**Описание:**  
Создает новую запись о продаже товара.

**Эндпоинт:**  
`POST /api/v1/sales`

**Параметры запроса:**
- Тело запроса (JSON):
  ```json
  {
      "productId": 101,          // Идентификатор товара
      "quantity": 3,             // Количество товара
      "documentName": "Чек №45"  // Название документа
  }

### Обновление продажи товара

**Описание:**  
Обновляет существующую запись о продаже товара.

**Эндпоинт:**  
`PUT /api/v1/sales/{id}`

**Параметры запроса:**
- `id` (PathVariable) — идентификатор продажи, которую нужно обновить.
- Тело запроса (JSON):
  ```json
  {
      "productId": 102,          // Идентификатор нового товара
      "quantity": 5,             // Новое количество товара
      "documentName": "Чек №46"  // Новое название документа
  }

### Удаление продажи товара

**Описание:**  
Удаляет запись о продаже товара по указанному идентификатору.

**Эндпоинт:**  
`DELETE /api/v1/sales/{id}`

**Параметры запроса:**
- `id` (PathVariable) — идентификатор продажи, которую необходимо удалить.

**Пример успешного запроса:**
```http
DELETE /api/v1/sales/10 HTTP/1.1

```

### Получение продажи товара

**Описание:**  
Возвращает информацию о продаже товара по указанному идентификатору.

**Эндпоинт:**  
`GET /api/v1/sales/{id}`

**Параметры запроса:**
- `id` (PathVariable) — идентификатор продажи, которую нужно получить.

**Пример успешного запроса:**
```http
GET /api/v1/sales/10 HTTP/1.1
```

---

## Технические детали
- **Java**: версия 21
- **Spring Boot**: используется для создания REST API
- **Maven**: управление зависимостями и сборка проекта
- **JUnit + Mockito**: тестирование функционала

---

## Установка и запуск

1. **Клонировать репозиторий**:
   ```bash
   git clone https://github.com/scolerad134/romashkaco-app/tree/main
   cd romashkaco-app
   ./start.sh